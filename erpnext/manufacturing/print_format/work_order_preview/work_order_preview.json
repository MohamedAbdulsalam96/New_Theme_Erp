{
 "creation": "2015-02-02 12:16:34.475297", 
 "disabled": 0, 
 "doc_type": "Work Order", 
 "docstatus": 0, 
 "doctype": "Print Format", 
 "html": "<style>\n\n\n\n@media print {\ntable table-bordered {\n    table-layout:fixed;\n  }\ntable {\n table-layout:fixed;\n}\n \n.mytd img{\n\n height:90px;\n}\n tr,td{\nheight:inherit;\n}\n\n\n}\n\n\n\n\n\n</style>\n<html>\n<body>\n<head>\n<script type=\"text/javascript\">\n$('.mytd').find('img').css('width','100px').css('height','100px')\n</script>\n\n\n</head>\n{% set trial_time ='' %}\n{% set trial_date ='' %}\n{% set work_order_name = doc.work_order_name or doc.name %}\n{% if doc.trial_no -%}\n{% set query=\"select date_format(a.trial_date,'%T'), ifnull(date_format(a.trial_date,'%d-%b-%y'), (select tailoring_delivery_date from `tabSales Invoice Items` where parent = '{0}' and tailoring_item_code = '{1}')) from `tabTrials` b, `tabTrial Dates` a  where b.name=a.parent and b.work_order='{2}' and a.trial_no='{3}'\".format(doc.sales_invoice_no, doc.item_code, work_order_name ,doc.trial_no) %}\n{% set t_time=frappe.db.sql(query,as_list=1) %}\n{% if t_time -%}\n{% set trial_time= t_time[0][0] %}\n{% set trial_date= t_time[0][1] %}\n{%- endif %}\n{%- endif %}\n{% set service_query=\"select work_order_service from `tabWork Order Distribution` where tailor_work_order='{0}'\".format(work_order_name) %}\n{% set res_service=frappe.db.sql(service_query,as_list=1) %}\n\n\n<div class=\"row\" style=\"margin-left:3px\" > \n\n<div class=\"col-xs-4 text-left\">\n<div class=\"row\" style=\"margin-right:15px\" ><b  style=\"font-size:15px\">{{ doc.company }}</b> </div>\n</div>\n\n<div class=\"col-xs-4 text-center\">\n<div class=\"row\" ><img  style=\"width:100px;height:40px\" src=\"assets/css/tailorpad.png\"/></div>\n</div>\n\n<div class=\"col-xs-4 text-right\">\n<div class=\"row\" style=\"margin-right:15px\" ><b style=\"font-size:25px;\">Work Order</b></div>\n</div>\n\n</div>\n\n\n\n\n</br>\n<div class=\"row\" style=\"margin-left:3px\"> \n\n<div class=\"col-xs-2\">\n<div class=\"row\" style=\"height:30px; font-size:18px\"><b>{{ doc.customer_name }}</b></div>\n<div class=\"row\" style=\"height:30px\"><b>{{ work_order_name }}</b>({{ doc.current_process }} of {{ doc.total_process }})</div>\n<div class=\"row\">{{ doc.barcode }}</div>\n</div>\n\n<div class=\"col-xs-6\">\n\n<div class=\"row\">\n<div class=\"col-xs-6 text-right\"><label>{{ res_service[0][0] or '' }}</label></div>\n{% if res_service -%}\n<div class=\"col-xs-6\">{{ frappe.db.get_value('Item', doc.item_code, 'item_name') }}</div>\n{% else %}\n<div class=\"col-xs-6\"></div>\n{% endif -%}\n</div>\n\n<div class=\"row\">\n<div class=\"col-xs-6 text-right\"><label>Fabric code</label></div>\n<div class=\"col-xs-6\">{{ doc.fabric__code or '' }}</div>\n</div>\n\n{% set user_info =frappe.db.get_value('User', doc.owner, 'first_name') %}\n<div class=\"row\">\n<div class=\"col-xs-6 text-right\"><label>Booked By</label></div>\n\n<div class=\"col-xs-6\">{{ user_info }}</div>\n</div>\n\n<div class=\"row\">\n<div class=\"col-xs-6 text-right\"><label>Measured By</label></div>\n<div class=\"col-xs-6\">{{ doc.measured_by  or ''}}</div>\n</div>\n\n</div>\n\n<div class=\"col-xs-4\">\n\n<div class=\"row\">\n<div class=\"col-xs-7 text-right\"><label>D/T Date</label></div>\n<div class=\"col-xs-5\">{{ trial_date or '' }}</div>\n</div>\n\n<div class=\"row\">\n<div class=\"col-xs-7 text-right\"><label>D/T Time</label></div>\n{% if t_time -%}\n<div class=\"col-xs-5\">{{  trial_time or '' }}</div>\n{% else %}\n<div class=\"col-xs-5\"></div>\n{% endif -%}\n</div>\n\n<div class=\"row\">\n<div class=\"col-xs-7 text-right\"><label>Trial no</label></div>\n<div class=\"col-xs-5\">{{ doc.trial_no or '' }}</div>\n</div>\n\n<div class=\"row\">\n<div class=\"col-xs-7 text-right\"><label>Book Branch</label></div>\n<div class=\"col-xs-5\">{{ frappe.db.get_value('Sales Invoice', doc.sales_invoice_no, 'branch') }}</div>\n</div>\n\n\n</div>\n\n</div>\n\n</br>\n\n\n<h4>Measurement Details</h4>\n<table class=\"table table-bordered\">\n                <tr>\n         {% set count = 0 %}\n            {%- for row in doc.measurement_item -%}\n                   {%- if count <= 3 %} \n                       \n\t\t            <td style=\"font-size:12px;text-align:left; margin-left:2px\">\n\t\t\t     {{ row.parameter }} = {{ row.value or ''}}\n                            </td>\n\t\t            {%- set count = count + 1 -%} \n                               \n\n\f                  {%- else %} \n                           {% set count = 1 %}\n                            <tr> </tr>\n      \t\t            <td style=\"font-size:12px;text-align:left; margin-left:2px\">\n\t\t\t    {{ row.parameter}} = {{ row.value or ''}}\n                            </td>\n                   {%- endif %}\n                    {%- endfor -%}  \n            </tr> \n </table> \n\n\n\n<table style=\"width:100%\">\n\n<tr style=\"width:100%\">\n<td style=\"height:35px;colspan:2;font-size:15px;text-align:left\"><b>Style</b></td>\n</tr>\n\n<tr style=\"width:100%\">\n<td style=\"width:50%\">\n<table width=50% align=\"left\" id=\"myid\" class=\"table table-bordered\" style=\"table-layout:fixed\">\n        {%- for row in doc.wo_style -%}\n            {% if row.table_view=='Left' -%}\n\t\t<tr style=\"height:70px;border-style:solid;\n    border-width: 1px;\" >\n\t\t    <td style=\"width:25%;word-wrap:normal\"><div style=\"white-space:pre-line;width:80%\"><b>{{ row.field_name }}</b></div></td>\n                     <td style=\"width:25%;word-wrap:normal\"><div style=\"white-space:pre-line;width:80%\">{{ row.default_value or ''}}</div</td>\n                      <td class=\"mytd\" style=\"width:50%\">{{ row.image_viewer or ''}}</td>\n                       \n                </tr>\n          {%- endif -%}\n          {%- endfor -%} \n</table>\n</td>\n<td style=\"width:50%\">\n<table align=\"right\" id=\"myid\" class=\"table table-bordered\" style=\"table-layout:fixed\">\n        {%- for row in doc.wo_style -%}\n            {% if row.table_view=='Right' -%}\n\t\t<tr style=\"height:70px;  border-style: solid;\n    border-width: 1px;\">\n\t\t    <td style=\"width:25%;\"><div style=\"white-space:pre-line;width:80%\"><b>{{ row.field_name }}</b></div></td>\n                     <td style=\"width:25%;\"><div style=\"white-space:pre-line;width:80%\">{{ row.default_value or '' }}</div></td>\n                      <td   class= \"mytd\" style=\"width:50%\">{{ row.image_viewer or '' }}</td>\n                       \n                </tr>\n                   \n          {%- endif -%}\n          {%- endfor -%} \n</table>\n</td>\n</tr>\n</table>\n\n<div class=\"col-xs-9\">\n<div class=\"row\">\n        <div class=\"col-md-2 \" style=\"font-size:12px\"><b>Note</b></div>\n\t<div class=\"col-md-10\">{{ doc.note }}</div>\n</div>\n</div>\n\n</br></br>\n\n{% set string=\"select barcode,process from `tabProcess Allotment` where process_work_order=\" %}\n{% set my_query=string+\"'\"+ work_order_name +\"'\" %}\n{% set result=frappe.db.sql(my_query,as_list=1)  %}\n\n<div class=\"row\" style=\"margin-left:5px;margin-right:5px\">\n<table style=\"table-layout:fixed;width:100%;\">\n<tr style=\"width:100%\">\n{% set count=0 %}\n{%- for row in result -%}\n\n{%- if count == 3 %}\n </tr><tr style=\"width:100%\">\n{% set count=0 %}\n{%- endif -%} \n\n\n<td style=\"width:30%;\">\n<table class=\"table table-bordered\" style=\"table-layout:fixed;width:100%\">\n\n<tr>\n<td  rowspan=4 style=\"text-align:left;width:30%;height:100%\">\n<div style=\"-webkit-transform: rotate(270deg);text-align:center;margin-top:70px\"><b>{{ row[1] }}</b></div></td>\n<td style=\"text-align:center;width:100%\"><b>{{ doc.customer }}</b></td>\n</tr>\n\n<tr style=\"height:15%;width:70%\">\n<td style=\"text-align:center;width:100%\"><b>{{ work_order_name }}</b>({{ doc.current_process }}of{{ doc.total_process }})</td>\n</tr>\n<tr style=\"height:15%;width:70%\">\n<td style=\"text-align:center;width:100%\"><b>{{ trial_date }}</b></td>\n</tr>\n\n<tr style=\"height:40%;width:70%\">\n<td style=\"width:100%\">{{ row[0] or '' }}</td>\n</tr>\n</table>\n</td>\n\n{% set count=count+1 %}\n{%- endfor -%}\n\n</table>\n\n</div>\n\n\n<!--\n<div style=\"width:100%;height:200px;\">\n{% set count=0 %}\n{%- for row in result -%}\n\n{%- if count == 3 %}\n   </div><div style=\"width:100%;height:200px;border;1px solid #aaa\">\n{%- endif -%} \n\n<div  style=\"width:33%;height:100%;display:inline-block;border-top:1px solid #aaa\">\n\n\n<div><b>{{ row[1] }}</b></div>\n\n<div  style=\"width:65%;height:100%;display:inline-block;text-align:center\">\n\n<div  style=\"height:33px;width:100%;text-align:center\"><b>{{ doc.customer }}</b></div>\n<div  style=\"height:33px;width:100%;text-align:center\"><b>{{ work_order_name }}</b>({{ doc.current_process }}of{{ doc.total_process }})</div>\n<div  style=\"height:33px;width:100%;text-align:center\"><b>{{ trial_date }}</b></div>\n<div  style=\"height:101px;width:100%\">{{ row[0] or '' }}</div>\n\n</div>\n\n</div>\n\n{% set count=count+1 %}\n{%- endfor -%}\n\n\n-->\n\n\n\n\n</body>\n</html>", 
 "modified": "2015-03-27 06:26:22.688778", 
 "modified_by": "Administrator", 
 "module": "Manufacturing", 
 "name": "Work Order Preview", 
 "owner": "Administrator", 
 "print_format_type": "Server", 
 "standard": "Yes"
}